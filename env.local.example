# Database
DATABASE_URL="postgresql://user:password@localhost:5432/rahima_db"
PRISMA_DATABASE_URL="postgresql://user:password@localhost:5432/rahima_db"

# NextAuth
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="change-this-to-random-secret-key"

# Google OAuth
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# n8n Integration
N8N_INTERNAL_URL="http://n8n:5678"
N8N_WEBHOOK_URL="https://ai.rahima-consulting.ru"
N8N_CALLBACK_SECRET="your-n8n-callback-secret"

# SMTP (Beget)
SMTP_HOST="smtp.beget.com"
SMTP_PORT="2525"
SMTP_SECURE="false"
SMTP_USER="noreply@rahima-consulting.ru"
SMTP_PASSWORD="your-smtp-password"
SMTP_FROM="noreply@rahima-consulting.ru"

# AMOCRM Integration
AMOCRM_CLIENT_ID="your-amocrm-client-id"
AMOCRM_CLIENT_SECRET="your-amocrm-client-secret"
AMOCRM_REDIRECT_URI="https://rahima-consulting.ru/api/amocrm/callback"
AMOCRM_SUBDOMAIN="rahimaconsulting"
#
# AI / RAG / Integrations
# - Fill these values before running the app. If you run the app outside Docker,
#   prefer `http://localhost:PORT` addresses; inside Docker compose use service names
#   (for example `http://n8n:5678` for n8n inside the compose network).

# OpenAI
OPENAI_API_KEY="sk-..."                     # your OpenAI API key
OPENAI_MODEL="gpt-5-nano"                   # default model used by the app

# Use Assistants API (optional)
ASSISTANT_ID="asst_mikooxt5LP9oT3vJ1ajWVXWX"

# Embedding server (local sentence-transformers / embed server)
# Default used in code: EMBED_SERVER_URL || http://172.17.0.1:8001
# If you run embed service locally, set to http://localhost:8001
EMBED_SERVER_URL="http://172.17.0.1:8001"

# Qdrant (RAG vector DB)
QDRANT_URL="http://172.17.0.1:6333"
QDRANT_API_KEY=""                            # if your Qdrant uses API key, set it here
QDRANT_COLLECTION="viki_docs"

# n8n (workflow engine)
# If your Next.js app runs outside Docker, set N8N_WEBHOOK_URL to the externally
# reachable URL of n8n (for example http://localhost:5678). Inside docker-compose
# the service name `n8n` is resolvable and N8N_INTERNAL_URL can be http://n8n:5678.
N8N_INTERNAL_URL="http://n8n:5678"
N8N_WEBHOOK_URL="http://localhost:5678"

# Prisma / DB helpers
VIKI_FORCE_DIRECT="0"                        # set to "1" to skip RAG + DB during testing

# Notes:
# - To fix embed server: run your embed service (see docs) and ensure EMBED_SERVER_URL/embed
#   returns JSON { embedding: [...] } for POST {"input":"..."}.
# - To fix n8n: run n8n in docker-compose (see docker-compose.yml.example). If you run the
#   frontend outside docker, set N8N_WEBHOOK_URL to the externally reachable URL and ensure
#   WEBHOOK_URL / OPENAI_API_KEY are set in the n8n env.
